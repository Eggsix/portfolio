<div id="blog">
	
	<h1 class="header_layout">Articles</h1>

	<div id="admin_blog" ng:if="usrCtrl.currentUser.admin">
		<form>

			<label>Title</label>

			<input  class="form-control" ng:model="blogCtrl.newPost.title" type="text" placeholder="Title" required>
			
			<label>Preview</label>
			<input class="form-control" ng:model="blogCtrl.newPost.preview" type="text" placeholder="Preview" required>

			<label>Content</label>
			<textarea class="form-control" ng:model="blogCtrl.newPost.content" cols="30" rows="10"></textarea>

			<button ng:click="blogCtrl.addPost(usrCtrl.currentUser)">Post</button>
		</form>	

	</div>

	<div>
		<ul >
			<li ng:repeat="post in blogCtrl.allPosts">
				<table>
					<tbody>
						<tr>
							<td>
								<div id="date_circle">
									<p ng:bind="post.createdAt | date:'MMM'"></p>
									<p ng:bind="post.createdAt | date:'dd'"></p>
									<p ng:bind="post.createdAt | date:'yyyy'"></p>
								</div>
							</td>
							<td>
								<a href="/post" ng:click="blogCtrl.showPost(post._id)">
									<h3 ng:bind="post.title"></h3>
									<p ng:bind="post.preview"></p>
								</a>
							</td>
						</tr>
					</tbody>
				</table>				
			</li>
		</ul>
	</div>
</div>
